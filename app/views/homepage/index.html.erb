<p class="py-8">Hello! Here are some puzzles: </p>


<div class="grid auto-cols-max">
    <% @puzzles.each do |puzzle| %>
      <% if puzzle.published? %>
        <span class="p-2 mb-4 mr-4 underline col-start-1">
          <%= link_to puzzle.title, puzzle  %>
        </span>
        <div class="col-start-2 mb-4">
          <% if puzzle.finished?(current_user) %>
            <span  class="m-auto rounded-full px-4 mr-2 border-2 border-green-600 text-green-600 p-2 rounded  leading-none flex items-center">Finished </span>
          <% elsif  Droplet.from_puzzle(puzzle, current_user)&.status.to_s == 'running' %>
            <span class="m-auto rounded-full px-4 mr-2 border-2 border-blue-600 text-blue-600 p-2 rounded  leading-none flex items-center">Running </span>
          <% elsif  Droplet.from_puzzle(puzzle, current_user)&.status.to_s == 'pending' %>
            <span class="m-auto rounded-full px-4 mr-2 border-2 border-blue-600 text-blue-600 p-2 rounded  leading-none flex items-center">Starting </span>
          <% else %> 
            <%= button_to 'Start', sessions_url(puzzle_id: puzzle.id), class: "m-auto rounded-full px-4 mr-2 border-2 border-black text-black p-2 rounded  leading-none flex text-center items-center" %> 
          <% end %>
        </div>
      <% end %>
    <% end %>

</div>
